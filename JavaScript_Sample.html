<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<title>JavaScript Sample1</title>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	</head>

    <body>
    	※答えは全てログに出力されている<br>
	<br>

    	■三角形の面積算出■<br>
	底辺：<input type="text" id="teiHen" size="5"><br>
	高さ：<input type="text" id="takasa" size="5">
	<input type="button" value="計算する" onclick="Triangle(teiHen, takasa)">

	<br><br>

    	■入力された名前を表示■<br>
	名前を入力して下さい：<input type="text" size="5" id="name1" style="ime-mode: active;">
	<input type="button" value="表示する" onclick="NameHyoji(name1)">

	<br><br>

    	■足し算■<br>
	数値1：<input type="text" id="num1" size="5" style="ime-mode: disabled;"><br>
	数値2：<input type="text" id="num2" size="5" style="ime-mode: disabled;">
	<input type="button"  value="足し算" onclick="Plus(num1, num2)">

	<br><br>

    	■画面サイズ■<br>
	<input type="button"  value="画面サイズ表示" onclick="WindowSize()">

	<br><br>

    	■要素の変更■<br>
	<input type="button"  value="このボタンを押すと・・・" id = "youso" onclick="ChangeButtonName()">

	<br><br>

    	■配列■<br>
	数値1：<input type="text" id="array1" size="5" style="ime-mode: active;"><br>
	数値2：<input type="text" id="array2" size="5" style="ime-mode: active;"><br>
	数値3：<input type="text" id="array3" size="5" style="ime-mode: active;">
	<input type="button"  value="配列の中身表示" onclick="Array(array1, array2, array3)">

	<br><br>

    	■DOMの操作(getElementsByTagName)■<br>
	<div>1個目のdivタグです</div>
	<div>2個目のdivタグです</div>
	<div>3個目のdivタグです</div>
	<input type="button"  value="ボタン押下でdiv内の文字列変更" onclick="ChangeDiv()">

	<br><br>

    	■DOMの操作(getElementsById)■<br>
	<div id="main">
  		<div id="main_text">メインのdivタグです</div>
	</div>
	<div id="sub">
  		<div id="sub_text">サブのdivタグです</div>
	</div>
	<input type="button"  value="ボタン押下でメイン側の文字列取得" onclick="GetDivText()">

	<br><br>

    	■DOMの操作(createTextNode)■<br>
	ボタン押下で下部のDivタグ内に文字を表示↓↓
	<div id="info"></div>
	<input type="button"  value="文字を表示" onclick="AddTextNode()">

	<br><br>

    	■DOMの操作(createElement)■<br>
	ボタン押下で下部のDivタグ内にタグを追加し文字を表示↓↓
	<div id="info2"></div>
	<input type="button"  value="タグを追加し文字を表示" onclick="AddElementNode()">

	<br><br>

    	■DOMの操作(insertBefore)■<br>
	ボタン押下でDOMとHTML文字の間にCSSという文字を追加↓↓
	<div id="title1">DOM</div><div id="title3">HTML</div>
	<input type="button"  value="DOMとHTMLの間にCSSという文字を追加" onclick="InsertBefore()">

	<br><br>

    	■DOMの操作(removeChild)■<br>
	ボタン押下でDOMとHTML文字の間のCSSという文字を削除↓↓
	<div id="toc">
		<div id="chapter1">DOM</div>
		<div id="chapter2">CSS</div>
		<div id="chapter3">HTML</div>
	</div>
	<input type="button"  value="DOMとHTMLの間のCSSという文字を削除" onclick="RemoveChild()">

	<br><br>

    	■DOMの操作(replaceChild)■<br>
	ボタン押下でHTML文字を新たな要素で置き換える↓↓
	<div id="toc2">
		<div id="toc2_chapter1">DOM</div>
		<div id="toc2_chapter2">CSS</div>
		<div id="toc2_chapter3">HTML</div>
	</div>
	<input type="button"  value="HTML文字を新たな要素で置き換える" onclick="ReplaceChild()">

	<script type="text/javascript">
		function Triangle(teiHen, takasa){
			if (teiHen.value == "" || takasa.value == "")
			{
				alert("底辺または高さのどちらかが未入力です");
				return;
			}
			console.log("三角形の面積は：" + (teiHen.value * takasa.value / 2) + "です");
		}

		function NameHyoji(name){
			if (name.value == "" || name.value == null)
			{
				alert("名前が未入力です");
				return;
			}
		    	console.log("入力された名前は「" + name.value + "」です。");
		};

		function Plus(num1, num2)
		{
			if (num1.value == "" || num1.value == null || num2.value == "" || num2.value == null)
			{
				alert("数値1または数値2のどちらかが未入力です");
				return;
			}

			var setNum1 = Number(num1.value);
			var setNum2 = Number(num2.value);
			var total = setNum1 + setNum2;
			console.log(setNum1 + "+" + setNum2 + "=" + total);
		}

		function WindowSize(){
			console.log('縦：' + window.outerHeight);
			console.log('横：' + window.outerWidth);
		}

		function ChangeButtonName(){
			var button = document.getElementById("youso");
			button.value = '変わったでしょ！！';
		}

		function Array(array1, array2, array3){
			if (array1.value == "" || array1.value == null || array2.value == "" || array2.value == null  || array3.value == "" || array3.value == null)
			{
				alert("数値1、数値2、数値3のどれかが未入力です");
				return;
			}

			var array = [array1.value, array2.value, array3.value];

			var data = "";
			for (i = 0; i < array.length; i++){
				data = data + array[i] + ", ";
				if (i == array.length - 1){
					data = data.substring(0, data.lastIndexOf(", "));
				}
			}
			console.log("配列の中身：" + data);
			console.log("配列の2番目の中身：" + array[1]);
		}

		function ChangeDiv(){
			var dt=document.getElementsByTagName("div");
			for(var i=0; i<dt.length; i++){
				dt[i].firstChild.nodeValue="ここが書き換わりました";
			}
		}

		function GetDivText(){
			alert(document.getElementById("main_text").firstChild.nodeValue);
		}

		function AddTextNode(){
			 /*（1）Pタグの要素ノードオブジェクト*/
　 			var info = document.getElementById('info');
			/*（2）新たにテキストノードを作成する*/
			var textNode = document.createTextNode('この文字が表示されているはず・・・');
			/*（3）作成したテキストノードをPタグ要素の子要素として追加する*/
			info.appendChild(textNode);
		}

		function AddElementNode(){
			/*（1）Pタグの要素ノードオブジェクト*/
			var info = document.getElementById('info2');
			/*（2）新たにH1タグの要素ノードを作成する*/
			var h1Node = document.createElement('h1');
			/*（3）新たにテキストノードを作成する*/
			var textNode = document.createTextNode('この文字が表示されているはず・・・');
			/*（4）作成したテキストノードをH1タグ要素の子要素として追加する*/
			h1Node.appendChild(textNode);
			/*（1）Pタグに、完成したH1タグを追加する*/
			info.appendChild(h1Node);
		}

		function InsertBefore(){
			/*（1）BODYタグの要素ノードオブジェクト*/
			//var bodyNode = document.getElementsByTagName('body').item(0);
			/*（2）title3のDIVタグの要素ノードオブジェクト*/
			var title3Node = document.getElementById('title3');
			/*（3）新たにDIVタグの要素ノードを作成する*/
			var newNode = document.createElement('div');
			/*（4）新たにテキストノードを作成する*/
			var textNode = document.createTextNode('CSS');
			/*（1）作成したテキストノードをDIVタグ要素の子要素として追加する*/
			newNode.appendChild(textNode);
			/*（6）新たに作成したDIVタグ要素にid属性をセット*/
			newNode.id = 'title2';
			/*（7）title3のDIVタグ要素の直前に、完成したDIVタグを追加する*/
			title3Node.parentNode.insertBefore(newNode, title3Node);
		}

		function RemoveChild(){
			/*（1）chapter2のDIVタグの要素ノードオブジェクト*/
　 			var targetNode = document.getElementById('chapter2');
　 			/*（2）chapter2のDIVタグ要素を削除*/
　 			targetNode.parentNode.removeChild(targetNode);
		}

		function ReplaceChild() {
			/*（1）chapter3のDIVタグ要素のノードオブジェクト*/
			var targetNode = document.getElementById('toc2_chapter3');
			/*（2）新たなDIVタグを作成*/
			var newNode = document.createElement('div');
			var textNode = document.createTextNode('付録A');
			newNode.appendChild(textNode);
			newNode.id = 'appendixa';
			/*（3）chapter3のDIVタグを置き換える*/
			targetNode.parentNode.replaceChild(newNode, targetNode);
		}
	</script>
    </body>
</html>